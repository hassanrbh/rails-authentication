# Secure State :

#### imagine with me if we want to create a website like "amazon.com" and we have in the index page an items and a cart shop that merge and aggregate every time we click to a button and send it to our carts controller to render it, imagine one more time you enter to your cart and you see your url like this "https://fakeamazon.com/carts/333(:id of the cart)" [every user has a unique session with that id , I am a malicious user and if I try to edit the id to another id like "https://fakeamazon.com/carts/22(some rich dude)",  this is bad, because the user can navigate to all the carts in the database and learn allot of thing or if we have a credit card table the malicious user (me) can see this credit cards and will be a big breach in our system, now the goal of our intention is make a notion of security to our website, but how to hide this cart id from the malicious user because of that I introduce you secure State, we can start by a simple approche and its make a function to validate and encrypt in the id in the model level and a decryption function to decrypt any encrypte id and send it to the DB level to recognize because we don't have a column in our table name is encryptedId , I can give you an example like this imagine with me rather than render "https://fakeamazon.com/carts/112(:id)" we can render it like this "https://fakemoney.com/carts/382738827(:aRandomgeneratednumber that points to the reel cart id" but also with this technic we have some flaws with our code, try to think about the logic of it and what will happen if someone inteligente that the previous malicious hacker (me) and the answer is we cannot track the cards because it is random generated and random generated is generated every single time and also imagine with me you go to your freind house and see their browser history and want to check out what he buys you can do it by just clicking to link and adding a MacBook for yourself, lol. now how we can solve this problem, it turns out that is no way we can solve this problem because of HTTP but how, we can go now and see the architecture of the HTTP and turns out that HTTP is stateless and it means that every request is independent to another request and it means that if we want to reach back to the past HTTP request, it´s gone but we have an answer to your questions and it´s encoding (:cartId) to the HTTP request itself and the solution is cookie, in the next iteration we will talk about it. 
